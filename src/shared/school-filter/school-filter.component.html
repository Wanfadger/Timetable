<div class="text-center text-2xl">Select School Details</div>


<form class="flex flex-col gap-2">

  <div class="flex space-x-4">
    <div class="flex flex-col">
      <mat-form-field appearance="fill">
        <mat-label>Select Academic Year</mat-label>
        <mat-progress-bar mode="determinate" color="primary" *ngIf="isLoadingYears"></mat-progress-bar>
        <input type="text" placeholder="Select Academic Year" matInput [formControl]="yearControl"
          [matAutocomplete]="autoYear">
        <mat-icon matSuffix>arrow_drop_down</mat-icon>

        <mat-autocomplete autoActiveFirstOption #autoYear="matAutocomplete" [displayWith]="displayWith">
          <mat-option *ngFor="let year of filteredYears$  | async" [value]="year">
            {{year.name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>


      <mat-form-field appearance="fill">
        <mat-label>Select Academic Term</mat-label>
        <mat-progress-bar mode="determinate" color="primary" *ngIf="isLoadingTerms"></mat-progress-bar>
        <input type="text" placeholder="Select Academic Term" matInput [formControl]="termControl"
          [matAutocomplete]="autoTerm">
        <mat-icon matSuffix>arrow_drop_down</mat-icon>

        <mat-autocomplete autoActiveFirstOption #autoTerm="matAutocomplete" [displayWith]="displayWithTerm">
          <mat-option *ngFor="let term of filteredTerms$  | async" [value]="term">
            {{term.term}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>School Level</mat-label>
        <mat-select [formControl]="schoolLevelControl">
          <mat-option *ngFor="let schoolLevel of ['Primary' , 'Secondary' , 'Certificate Awarding Institutions']" [value]="schoolLevel">{{schoolLevel}}</mat-option>
        </mat-select>
      </mat-form-field>

    </div>


    <div class="flex flex-col">
      <mat-form-field appearance="fill">
        <mat-label>Select Region</mat-label>
        <mat-progress-bar mode="determinate" color="primary" *ngIf="isLoadingRegions"></mat-progress-bar>
        <input type="text" placeholder="Select Region" matInput [formControl]="regionControl"
          [matAutocomplete]="autoRegion">
        <mat-icon matSuffix>arrow_drop_down</mat-icon>

        <mat-autocomplete #autoRegion="matAutocomplete" [displayWith]="displayWith">
          <mat-option *ngFor="let region of filteredRegions$  | async" [value]="region">
            {{region.name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>



      <mat-form-field appearance="fill">
        <mat-label>Select Local Government</mat-label>
        <mat-progress-bar mode="determinate" color="primary"
          *ngIf="isLoadingLocalGovernments"></mat-progress-bar>
        <input type="text" placeholder="Select Local Government" matInput
          [formControl]="localGovernmentControl" [matAutocomplete]="autoLg">
        <mat-icon matSuffix>arrow_drop_down</mat-icon>

        <mat-autocomplete  #autoLg="matAutocomplete" [displayWith]="displayWith">
          <mat-option *ngFor="let localGovernment of filteredLocalGovernments$  | async"
            [value]="localGovernment">
            {{localGovernment.name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Select School</mat-label>
        <mat-progress-bar mode="determinate" color="primary" *ngIf="isLoadingSchools"></mat-progress-bar>
        <input type="text" placeholder="Select School" matInput [formControl]="schoolControl"
          [matAutocomplete]="autoSchool">
        <mat-icon matSuffix>arrow_drop_down</mat-icon>

        <mat-autocomplete autoActiveFirstOption #autoSchool="matAutocomplete" [displayWith]="displayWith">
          <mat-option *ngFor="let school of filteredSchools$  | async" [value]="school">
            {{school.name}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </div>
  </div>

</form>
